<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>CSS - Flexbox - Mémo complet</title>
	<style>
		.elt-bleu { background-color: blue; color: white; }
		.elt-vert { background-color: green; color: white; }
		
		.flex-grow-ex { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		
		.flex-grow-ex1 { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		.flex-grow-ex1 .fils1 { flex: 1; }
		.flex-grow-ex1 .fils2 { flex: 1; }
		
		.flex-grow-ex2 { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		.flex-grow-ex2 .fils1 { flex: 1; }
		.flex-grow-ex2 .fils2 { flex: 3; }
		
		.flex-grow-ex3 { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		.flex-grow-ex3 .fils1 { flex: 1 0 400px; }
		.flex-grow-ex3 .fils2 { flex: 1 0 200px; }
		
		.flex-grow-ex4 { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		.flex-grow-ex4 .fils1 { flex: 1 0 200px; }
		.flex-grow-ex4 .fils2 { width: 200px; }
		
		.flex-grow-ex5 { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		.flex-grow-ex5 .fils2 { width: 200px; }
		
		.flex-shrink-ex { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		.flex-shrink-ex .fils1 { flex: 0 2 600px; }
		.flex-shrink-ex .fils2 { flex: 0 1 400px; }
		
		.flex-basis-ex1 { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		.flex-basis-ex1 .fils1 { flex: 1 1 0; }
		.flex-basis-ex1 .fils2 { flex: 1 1 0; }
		
		.flex-basis-ex2 { display: flex; width: 800px; margin: 0 auto; border: 1ps solid black; background-color: #eeeeee; }
		.flex-basis-ex2 .fils1 { flex: 1 1 auto; }
		.flex-basis-ex2 .fils2 { flex: 1 1 auto; }
	</style>
</head>
<body>
	<h1>Fonctionnement de flex (flex-grow, flex-shrink et flex-basis)</h1>
	
	<h2>Le fonctionnement de flex-grow</h2>
	
	<p>
		Prenons l'exemple suivant avec un conteneur en display flex qui fait 800px et deux enfants sans aucune autre indication CSS.
		<br />
		On obtient ceci :
	</p>
	<div class="flex-grow-ex">
		<div class="fils1 elt-bleu">Bloc n°1</div>
		<div class="fils2 elt-vert">Bloc n°2</div>
	</div>
	
	<p>
		La formule pour calculer la taille des éléments enfants est la suivante :
		<blockquote>taille = flex-grow / (somme flex-grow enfants) x (largeur parent - somme flex-basis enfants) + (flex-basis)</blockquote>
	</p>
	
	<h3>Exemple 1 : Les enfants ont un flex à 1</h3>
	<p>La taille des enfants est réparti de manière égale</p>
	<div class="flex-grow-ex1">
		<div class="fils1 elt-bleu">Bloc n°1<br />Définition CSS : flex: 1;<br />Equivalent à : flex: 1 1 0%;<br />Calcul = 1 / 2 x (800 - 0) + 0 = 400px</div>
		<div class="fils2 elt-vert">Bloc n°2<br />Définition CSS : flex: 1;<br />Equivalent à : flex: 1 1 0%;<br />Calcul = 1 / 2 x (800 - 0) + 0 = 400px</div>
	</div>
	
	<h3>Exemple 2 : Les enfants ont un flex à 1 et 3</h3>
	<p>La taille des enfants est réparti pour 1/4 pour l'élément 1 et pour 3/4 sur l'élément 2</p>
	<div class="flex-grow-ex2">
		<div class="fils1 elt-bleu">Bloc n°1<br />Définition CSS : flex: 1;<br />Equivalent à : flex: 1 1 0%;<br />Calcul = 1 / 4 x (800 - 0) + 0 = 200px</div>
		<div class="fils2 elt-vert">Bloc n°2<br />Définition CSS : flex: 3;<br />Equivalent à : flex: 3 1 0%;<br />Calcul = 3 / 4 x (800 - 0) + 0 = 600px</div>
	</div>
	
	<h3>Exemple 3 : Les enfants ont un flex à 1 0 400px et 1 0 200px</h3>
	<p>La taille des enfants est de 400px et 200px et on réparti de manière équitable les 200 pixels restants.</p>
	<div class="flex-grow-ex3">
		<div class="fils1 elt-bleu">Bloc n°1<br />Définition CSS : flex: 1 0 400px;<br />Calcul = 1 / 2 x (800 - 600) + 400 = 500px</div>
		<div class="fils2 elt-vert">Bloc n°2<br />Définition CSS : flex: 1 0 200px;<br />Calcul = 1 / 2 x (800 - 600) + 200 = 300px</div>
	</div>
	
	<h3>Exemple 4 : Les enfants ont un flex à 1 0 200px et l'autre un width de 200px</h3>
	<p>La taille du deuxième enfant est bloquée à 200px et celle du premier qui est à la base de 200px va s'agrandir sur l'espace restant et donc absorber les 400px de rab.</p>
	<div class="flex-grow-ex4">
		<div class="fils1 elt-bleu">Bloc n°1<br />Définition CSS : flex: 1 0 200px;<br />Calcul = 1 / 1 x (800 - 400) + 200 = 600px</div>
		<div class="fils2 elt-vert">Bloc n°2<br />Définition CSS : width: 200px;<br />Equivalent à : flex-basis: auto; Soit la largeur du contenu soit 200px<br />Calcul = 0 / 1 x (800 - 400) + 200 = 200px</div>
	</div>
	
	<h3>Exemple 5 : Les enfants n'ont pas de flex définit et le deuxième à un width de 200px</h3>
	<p>Le 2ème bloc occupera les 200px comme prévu et le premier aura sa taille qui dépendra de son contenu.</p>
	<p>Avec un petit contenu le premier bloc sera ajusté de cette manière :</p>
	<div class="flex-grow-ex5">
		<div class="fils1 elt-bleu">Bloc n°1</div>
		<div class="fils2 elt-vert">Bloc n°2</div>
	</div>
	<p>Avec un grand contenu le premier bloc sera ajusté de cette manière et le deuxième sera réduit :</p>
	<div class="flex-grow-ex5">
		<div class="fils1 elt-bleu">Bloc n°1 : Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis.</div>
		<div class="fils2 elt-vert">Bloc n°2</div>
	</div>
	
	
	
	<h2>Le fonctionnement de flex-shrink</h2>
	
	<p>
		Avec flex shrink on va réduire les éléments enfants si l'espace occupé et supérieur au conteneur au prorata de flex-shrink et flex-basis pour garder une certaine proportion des blocs.
		<br />
		Un petit exemple vaut parfois mieux qu'une grosse explication.
	</p>
	
	<h3>Prenons un exemple pratique pour comprendre le fonctionnement de flex-shrink</h3>
	<p>Nos éléments font au total 1000px de large pour un conteneur de 800px. A l'aide de flex shrink on va donc réduire les 200px en les répartissants sur les éléments au prorata de leur taille et de l'indice de flex-shrink.</p>
	<div class="flex-shrink-ex">
		<div class="fils1 elt-bleu">Bloc n°1<br /><u>Définition CSS</u> : flex: 0 2 600px;<br /><u>Explications</u> : On réduit le bloc 1 en répartissant les 200px de trop au prorata de 2 x 600<br /><u>Calcul de la réduction</u> = (200 * (2 x 600) / (2 x 600 + 1 x 400)) = 150px<br /><u>Résultat</u> = 600px - 150px = 450px</div>
		<div class="fils2 elt-vert">Bloc n°2<br /><u>Définition CSS</u> : flex: 0 1 400px;<br /><u>Explications</u> : On réduit le bloc 2 en répartissant les 200px de trop au prorata de 1 x 400<br /><u>Calcul de la réduction</u> = (200 * (1 x 400) / (2 x 600 + 1 x 400)) = 50px<br /><u>Résultat</u> = 400px - 50px = 350px</div>
	</div>
	
	
	
	<h2>Le fonctionnement de flex-basis</h2>
	<h3>Répartition de l'espace ou de l'espace libre ?</h3>
	<p>
		Il est important de comprendre la nuance entre répartir l'espace total ou répartir seulement l'espace libre.
		<br />
		En reprenant l'exemple ci-dessus on va voir comment passer d'une nuance à l'autre.
	</p>
	
	<h4>Exemple 1 : Répartissons l'espace total du parent de manière égale entre les enfants</h4>
	<p>Flex basis étant à 0, le calcul va répartir l'espace total de manière équitable entre les 2 enfants qui auront donc la même taille.</p>
	<div class="flex-basis-ex1">
		<div class="fils1 elt-bleu">Ceci est un grand élément avec beaucoup de contenu.<br />Définition CSS : flex: 1 1 0;</div>
		<div class="fils2 elt-vert">Ceci est un petit.<br />Définition CSS : flex: 1 1 0;</div>
	</div>
	
	<h4>Exemple 2 : Répartissons l'espace restant seulement de manière égale entre les enfants</h4>
	<p>Flex basis étant à auto, le calcul va répartir l'espace restant de manière équitable entre les 2 enfants qui auront donc la même taille.</p>
	<div class="flex-basis-ex2">
		<div class="fils1 elt-bleu">Ceci est un grand élément avec beaucoup de contenu.<br />Définition CSS : flex: 1 1 auto;</div>
		<div class="fils2 elt-vert">Ceci est un petit.<br />Définition CSS : flex: 1 1 auto;</div>
	</div>
</body>
</html>
